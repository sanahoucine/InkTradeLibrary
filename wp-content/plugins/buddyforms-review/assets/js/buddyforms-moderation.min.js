;function BuddyFormsModeration(){function r(){const $this=jQuery(this);const post_id=$this.attr("id");if(confirm(buddyformsModeration.il18n.approve)){jQuery.ajax({type:"POST",url:buddyformsModeration.ajax,data:{"action":"buddyforms_moderators_ajax_approve_post","post_id":post_id,"nonce":buddyformsModeration.nonce},beforeSend:function(){$this.closest(".buddyforms_posts_list").LoadingOverlay("show")},success:function(o){if(isNaN(o)){alert(o)}
else{location.reload()}},error:function(o){alert(o.responseText)},complete:function(){$this.closest(".buddyforms_posts_list").LoadingOverlay("hide")}})}
else{return!1};return!1};function t(){var o=jQuery("button.bf-moderation");if(o){var r=o.data("target");if(r){o.attr("disabled","disabled")}}};function d(){var o=jQuery("button.bf-moderation");if(o){var r=o.data("target");if(r){o.removeAttr("disabled")}}};function e([form,event]){BuddyFormsHooks.doAction("bf-moderation:submit:disable");var r=jQuery(form).find("input[name=\"status\"]"),t=jQuery(form).data("submit-clicked");if(r.length>0&&t){r.val(t)};BuddyFormsHooks.doAction("bf-moderation:submit:enable")};function i(o){const target=jQuery(this).data("target");const status=jQuery(this).data("status");const confirmationMessage=jQuery(this).data("confirmation");if(status==="awaiting-review"&&!a(confirmationMessage)){o.preventDefault()};var r=jQuery("form#buddyforms_form_"+target);BuddyFormsHooks.doAction("bf-moderation:submit:click",[r,target,status,o])};function o(o){var r=o[0],t=o[2];r.data("submit-clicked",t)};function s(o,r){if(r[0]&&r[1]&&r[2]&&buddyformsGlobal[r[0]]){var t=r[2];if(t&&t.type==="moderators"){return!1}};return o};function n(){jQuery.validator.addMethod("has-moderation",function(o,r,s){var t=fncBuddyForms.getFormSlugFromFormElement(r);if(t&&buddyformsGlobal&&buddyformsGlobal[t]&&buddyformsGlobal[t].js_validation&&buddyformsGlobal[t].js_validation[0]==="disabled"){return!0};var i=buddyformsModeration.il18n.select_moderator,n=!1,a=jQuery(r).attr("name");if(a&&t){var d=fncBuddyForms.getFieldFrom("moderators",t,"type");if(d.validation_error_message){i=d.validation_error_message};n=d&&d["required"]&&d["required"][0]==="required"};if(!n){return!0};var e=(o&&o!=="-1");if(!e){jQuery(r).first().parent().find("label.error").remove();jQuery(r).first().parent().append("<label id='buddyforms_form_"+a+"-error' class='error' style='color:red; font-weight: bold; font-style: normal;'>"+i+"</label>");e=!1};return e},"")};function a(o){if(typeof o==="undefined"||confirm(o)){return!0};return!1};return{onFormActionClick:function(r){return o(r)},init:function(){BuddyFormsHooks.addAction("buddyforms:submit",e,10);BuddyFormsHooks.addAction("bf-moderation:submit:enable",d);BuddyFormsHooks.addAction("bf-moderation:submit:disable",t);jQuery(document.body).on("click",".buddyforms_moderators_approve",r);jQuery(document.body).on("click","button[type=\"submit\"].bf-moderation",i);BuddyFormsHooks.addAction("bf-moderation:submit:click",o);if(jQuery&&jQuery.validator&&fncBuddyForms){n()}}}};var fncBuddyFormsModeration=BuddyFormsModeration();jQuery(document).ready(function(){if(BuddyFormsHooks&&buddyformsGlobal){fncBuddyFormsModeration.init();BuddyFormsHooks.addAction("buddyforms:init",function(){fncBuddyFormsModeration.init()},10)}});